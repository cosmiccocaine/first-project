# Полезные команды для работы в консоли

## Изменение редактора в консоли
Notepad++, на 64-битной ОС:

```bash
git config --global core.editor \
"'C:/Program Files/Notepad++/notepad++.exe' -multiInst -notabbar -nosession -noPlugin"
```

## Навигация по строке в консоли

- Перейти в начало строки: `Ctrl + A` (Windows, macOS, Linux).
- Перейти в конец строки: `Ctrl + E` (Windows, macOS, Linux).
- Удалить информацию до курсора: `Ctrl + U` (Windows, macOS, Linux).
- Прервать выполнение команды: `Ctrl + C`.
- Отмена действия: `Ctrl + X`.
- ЗАКРЫТЬ ПОКАЗ СПИСКА!! `Нажать Q`.

## Работа с SSH

- Генерация SSH: `ssh-keygen`.
- Вывод ключа в консоль: `cat ~/.ssh/id_rsa.pub`.
- Вход на сервер: `ssh user@hostname -p port`.
- Показать название рабочей директории: `pwd`.
- Вывести список содержимого каталога: `ls`.
- Доп. информация о файле: `ls -l path/to/file`.
- Сортировка списка файлов:
  - Без сортировки: `ls -U`.
  - По расширению: `ls -X`.
  - По размеру: `ls -S`.
  - По времени изменения: `ls -t`.
  - По версиям: `ls -v`.
  - В обратном порядке: `ls -r`.
  - Показать скрытые файлы: `ls -a`.

## Ключи команды grep

- `-V`: Вывод реверсивных результатов.
- `-C`: Отключает стандартный способ вывода результата.
- `-i`: Делает поиск регистронезависимым.
- `-n`: Выдает перед каждой строкой ее номер в файле.
- `-w`: Ведет поиск по цельным словам.
- `-l`: Выводит только имена файлов где была найдена строка.
- `-r`: Производит поиск рекурсивно по всем поддиректориям.
- `-o`: Печатает только часть строки подходящую под условие регулярного выражения.

## Навигация по директориям

- Переход к папке: `cd directory`.
- Переход на уровень выше: `cd ..`.
- Переход на два уровня выше: `cd ../..`.
- Переход в корень: `cd /`.
- Переход в домашний каталог: `cd ~`.
- Автозаполнение: Нажать `TAB` один или два раза.

## Работа с файлами и директориями

- Удаление файла: `rm filename`.
- Удаление директории: `rm -r directory`.
- Создание файла: `touch filename`.
- Создание директории: `mkdir directory`.
- Создание структуры директорий: `mkdir -p path/to/directory`.
- Открытие файла с помощью редактора: `nano filename`.
- Запись в файл: `echo "content" > filename` # Полностью перезаписывает файл
- Запись в файл: `echo "content" >> filename`. # Добавляет строки в конец файла
- Показать содержимое файла: `cat filename`.
- Копирование содержимого файла в конец другого файла: `cat source.txt >> destination.txt`.
- Копирование содержимого файла с перезаписью: `cat source.txt > destination.txt`.

## Работа с историей команд

- Показать историю команд:  `history`.
- Сохранить историю в файл: `history > commands.log`.




#**Шпаргалка для настройки GIT!**
---

## Настройка GIT (config)

```bash
$ git config --global user.name "ваше имя или ник латиницей"
$ git config --global user.email ваша электронная почта
```

## Просмотр настроек GIT (config)

```bash
$ cat ~/.gitconfig
$ git config --list
```

## Инициализация репозитория (init)

```bash
$ git init
```

## Проверка статуса репозитория (status)

```bash
$ git status
```

## Разгитить (удаление файла "rm" или папки "rm -rf")

```bash
$ rm -rf .git 	# удалили подпапку .git
```

## Команда git add (add)
```bash
$ git add --all
```
Команда `git add` позволяет подготовить файл к сохранению. `git add --all` подготовит к сохранению сразу все файлы. С помощью `git add .` можно добавить в репозиторий текущую папку со всеми файлами.

## Гит Коммит (commit)

```bash
$ git commit -m 'Мой первый коммит!'
```

## Добавление в тот же коммит (commit amend)

```bash
$ git add common.css 	# добавили файл common.css в список на коммит как обычно
$ git commit --amend --no-edit
```

## Изменение в том же коммите (commit amend)

```bash
$ git add main.html 	# добавили в список на коммит
$ git commit --amend --no-edit 
```

## Изменение сообщения в том же коммите (commit amend -m)

```bash
$ git commit --amend -m "Добавить главную страницу и стили"
$ git log --oneline 
```

## История коммитов (log)

```bash
$ git log
$ git log --oneline (одной строкой, сокращенно)
$ git log -p (покажет все коммиты, со всеми изменениями в них)
```

## Показать коммит (show)

```bash
$ git show 			# покажет последний коммит
$ git show ed25519  # покажет коммит с указанным хэшэм
```

## Показать автора или какие строки изменены (blame)

```bash
$ git blame File.txt 						# покажет автора, время и внесенные изменения
$ git blame File.txt | grep 123 			# покажет измененную строку
$ git blame File.txt | grep cosmiccocaine   # покажет все изменения внесенные указанным автором
```

## Генерация SSH (keygen)

```bash
$ ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
# Через другой алгоритм шифрования:
$ ssh-keygen -t rsa -b 4096 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
```

## Проверка ключей в консоли (ls)

```bash
$ ls -a ~/.ssh
```

## Вывод ключа в консоли (cat)

```bash
$ cat ~/.ssh/id_ed25519.pub
```

## Копирование в буфер ключа (clip)

```bash
$ clip < ~/.ssh/id_ed25519.pub
```

## Проверка правильности ключа

```bash
$ ssh -T git@github.com
```

## Связать локальный и удаленный репозитории (remote)

```bash
$ cd /c/first-project
$ git remote add origin
```

## Проверка связки (remote)

```bash
$ git remote -v
# Флаг -v — короткая форма флага --verbose (англ. «подробный»)
# Вывод должен содержать ссылки на fetch и push
```

## Отправка изменений в ветку (push)

```bash
$ git push -u origin master
# Если команда приведёт к ошибке, попробуйте заменить master на main
# Флаг -u свяжет локальную ветку с одноимённой удалённой
# Необходимо также связать ветки, как вы связывали локальный и удалённый репозитории в предыдущем уроке
```

## Откат изменений (restore)
```bash
$ git restore --staged example.txt # Команда переведёт файл из staged обратно в modified или untracked
```

## Откат всей папки (restore)
```bash
$ git restore --staged .
```

## Откат коммита (reset)
```bash
$ git reset --hard b576d89 	# Команда «откатит» историю до коммита с хешем b576d89. Более поздние коммиты потеряются!
$ git reset --hard HEAD^    # Отмена последнего коммита и удаление изменений
$ git reset --soft HEAD^    # Отмена последнего коммита, но оставление изменений в индексе
```

## Переключение между ветками (restore)
```bash
$ git checkout feature-branch   			# Переключение на ветку feature-branch
$ git checkout <commit-hash> filename.txt   # Восстановление файла из указанного коммита
```

## Откат изменений в файле (restore)
```bash
$ git restore example.txt # Команда «откатит» изменения в файле до последней сохранённой (в коммите или в staging) версии.
```

## Различия в коммитах (diff)
```bash
$ git diff 96aa6ee aaa2508 # Показывает подробные изменения в указанных коммитах
```

## Различия в staged (diff --staged)
```bash
$ git diff --staged # Показывает подробные изменения в staged коммите
```

## Игнорирование файлов (файл .gitignore)
```bash
$ touch .gitignore 	   # Создает файл для игнора
$ git status --ignored # проверка статуса игнора

в этот файл можно добавить сдедующие исключения:
	1. # комментарии
	2. название файла (например text.txt)
	3. * любое значение или папка (например *.jpeg или docs/*/tmp)
	4. ? один любой символ (например file?.txt)
	5. [] список символов или диапазон (например file[abc].txt или file[0-2].txt)
	6. / игнор папки (например /todo.txt проигнорирует файл корневой в папке, first-project/ будет проигнорированна вся папка)
	7. ** любое значение и все внутренние папки (например docs/**/tmp)
	8. ! инвертировать правило (например игнорировать все JPEG-файлы *.jpeg, но только не мем с Doge !doge.jpeg)

	БОЛЬШОЙ ПРИМЕР:
	# игнорировать все файлы
	**

	# кроме .tex и .pdf
	!**.tex
	!**.pdf 
```